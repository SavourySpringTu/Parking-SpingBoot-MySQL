(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{SDYM:function(t,e,a){"use strict";a.r(e),a.d(e,"ViewerModule",(function(){return O}));var s=a("D57K"),i=a("8a+/"),r=a("61p6"),n=a("WH6p"),o=a("wp/b"),c=a("tHMF"),p=a("PDpc"),d=a("f6YR"),h=a("pt/I"),u=(a("2m+3"),a("yn08")),l=a("ROBh"),f=a("5xGT"),g=a("elRR"),m=a("0itG"),y=a("Voii"),S=a("T4Sa"),b=a("jDMA"),I=a("53e4"),H=a("EM62"),w=function(t){function e(e,a,s,i){var r=t.call(this,s)||this;return r.gridService=e,r.injector=a,r.state=s,r.shapeBoundsLocator=i,r}return Object(s.e)(e,t),e.prototype.resolve=function(t,e){this.updateInterfaceControlState(),this.hideLoadingScreen(),this.updateIndicatorHandlers(),this.updateInteractionHandler(),this.setSideBarPanels(),this.subs.push(this.shapeBoundsLocator.initialize().subscribe()),this.gridService.showGrid.next(!1),this.state.set("EditingText",{open:!1});var a=this.state.get("FreeHandLastUsedItem");return a&&this.state.set("FreeHandLastUsedItem",{state:u.b.Highlighter,styles:a.styles}),this.state.set("MouseControlState",u.b.Pan),this.setViewerStatus("opening"),Object(l.a)(!0)},e.prototype.canDeactivate=function(t,e,a,s){return this.destroy(),this.setViewerStatus("closing"),this.state.set("Selected",[]),Object(l.a)(!0)},e.prototype.updateInterfaceControlState=function(){this.state.set("InterfaceControlState",u.a.View)},e.prototype.updateIndicatorHandlers=function(){this.state.set("IndicatorHandlerList",new Set([d.a,n.a,b.a,p.a,c.a,o.a]))},e.prototype.updateInteractionHandler=function(){var t=this,e=this.state;this.subs.push(this.state.changes("MouseControlState").subscribe((function(a){return e.set("CurrentInteractionHandler",{injector:t.injector,type:t.getEditorInteractionHandler(a)})})))},e.prototype.setViewerStatus=function(t){this.state.set("ViewerStatus",{status:t})},e.prototype.setSideBarPanels=function(){var t=this.state,e={};(e.diagraminfo=m.a,e.shapeDataPanel=r.a,"plugin"===f.m.get("APP_MODE")||t.get("ApplicationIsEmbedded")||(e.diagramcomments=S.a,e.historyPanel=I.a),t.get("ApplicationIsEmbedded"))&&("msteams"===t.get("PluginApp")&&(e.diagramcomments=S.a,e.historyPanel=I.a));t.set("AvailableSideBarPanels",e)},e.prototype.getEditorInteractionHandler=function(t){if(t===u.b.Comment)return h.a;if(t!==u.b.Highlighter)return g.a;var e=this.state.get("FreeHandLastUsedItem");this.state.set("FreeHandLastUsedItem",{state:t,styles:e.styles})},e.\u0275fac=function(t){return new(t||e)(H.qc("GridService"),H.qc(H.C),H.qc(f.Hb),H.qc(i.a))},e.\u0275prov=H.cc({token:e,factory:e.\u0275fac}),e}(y.a),v=a("sEIs"),P=a("Sf0Q"),j=a("NNJu"),D=a("2kYt"),C=a("nIj0"),E=a("s2Ay"),M=a("A7ZO"),A=a("Jzy8"),L=a("P1E4"),V=a("YJWy"),q=a("YIQW"),B=[{path:"**",resolve:[w],canDeactivate:[w],children:[{component:q.a,path:""}]}],O=function(){function t(t,e){this.mapper=t,this.state=e,this.state.set("ProjectDiagrams",{}),this.state.set("ProjectMap",{}),this.state.set("RecentDiagrams",[]),A.u.register(this.mapper),L.a.register(this.mapper),A.h.register(this.mapper),V.a.register(this.mapper)}return t.\u0275mod=H.ec({type:t}),t.\u0275inj=H.dc({factory:function(e){return new(e||t)(H.qc(f.z),H.qc(f.Hb))},providers:[w],imports:[[v.h.forChild(B),D.c,P.a,f.S,C.m,j.n,M.a,E.c]]}),t}()}}]);
//# sourceMappingURL=31.ea34caab48bc6f5c0298.js.map